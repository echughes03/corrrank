library(available)
install.packages("available")
library(available)
available("corrank", browse=FALSE)
available("corrRank", browse=FALSE)
usethis::use_mit_license()
library(devtools)
library(usethis)
usethis::use_r()
l = list("Hello", "Goodbye")
View(l)
l = list(Hello, Goodbye)
data = c("Hello", "Goodbye")
data2 = c(1, 2)
data = data.frame(data, data2)
View(data)
colnames(data) = c("Hello", "Bye")
View(data)
data$Hello
data$"Hello"
?corr
corr?
3
?cor
x = c(1,2,3,4,5,6)
y = c(2,3,6,7,5,6)
z = c(10,20,30,40,50,60)
cor(x, z)
cor(x, y)
cor(c(x,y), z)
?rappend
corrRank = function(predictors, outcome){
# deal with missing values
# message if different dimensions
ranking = data.frame("Predictor", "Correlation")
for (predictor in predictors){
rbind(ranking, data.frame(Predictor = predictor, Correlation = cor(predictor, outcome)))
}
ranking = ranking %>% arrange(abs(Correlation))
return(ranking)
}
corrRank(list(x,y), z)
devtools::document()
devtools::document()
?corrRank
usethis::use_package("tidyverse")
usethis::use_package("dplyr")
usethis::use_mit_license()
?cor
x = c(NA, 2, 3, 4,5,6)
cor(x, y)
cor.test(x,y)
x
y
test = cor.test(y,z)
test$p.value
?ifelse
?cor.test
cities = read_csv("data/healthy_lifestyle_city_2021.csv")
library(tidyverse)
cities = read_csv("data/healthy_lifestyle_city_2021.csv")
View(cities)
library(tidyverse)
cities = read_csv("data/healthy_lifestyle_city_2021.csv")
corrRank = function(predictors, outcome){
ranking = data.frame(matrix(ncol=3, nrow=0))
colnames(ranking) = c("Predictor", "Correlation", "Significance")
stopifnot("Outcome variable must be numeric" = is.numeric(outcome))
for (i in seq_along(predictors)){
predictor = predictors[[i]]
stopifnot("Predictors and outcome must be equal length" = length(predictor)==length(outcome))
stopifnot("Predictors must be numeric" = is.numeric(predictor))
ranking = rbind(ranking, data.frame(Predictor = names(predictors)[i],
Correlation = cor(predictor, outcome),
Significance = ifelse(cor.test(predictor, outcome)$p.value < 0.05, "Yes", "No")))
}
ranking = ranking %>% arrange(desc(abs(Correlation)))
return(ranking)
}
cities = read_csv("cities.csv")
cities = read_csv("cities.csv")
cities = read_csv("cities.csv")
library(tidyverse)
cities = read_csv("cities.csv")
library(tidyverse)
cities <- read_csv("~/cities.csv")
corrRank(list(cities$sunshine_hours), cities$water_bottle_cost))
corrRank(list(cities$sunshine_hours), cities$water_bottle_cost)
predictors = list(cities$sunshine_hours)
for (i in seq_along(predictors)){print(names(predictors)[i])}
i=1
predictor = predictors[[i]]
predictor
ranking = data.frame(matrix(ncol=3, nrow=0))
Predictor = names(predictors)[i]
Predictor
names(predictors)
predictors
predictors[1]
View(predictors)
Correlation = cor(predictor, outcome),
Correlation = cor(predictor, outcome)
outcome = cities$water_bottle_cost
Correlation = cor(predictor, outcome),
Correlation = cor(predictor, outcome)
Correlation
predictor
outcome
cor(predictor, outcome)
Correlation = cor(predictor, outcome, use = "complete.obs")
corrRank(list(Sunshine = cities$sunshine_hours), Water = cities$water_bottle_cost)
corrRank(list(Sunshine = cities$sunshine_hours), cities$water_bottle_cost)
corrRank = function(predictors, outcome){
ranking = data.frame(matrix(ncol=3, nrow=0))
colnames(ranking) = c("Predictor", "Correlation", "Significance")
stopifnot("Outcome variable must be numeric" = is.numeric(outcome))
for (i in seq_along(predictors)){
predictor = predictors[[i]]
stopifnot("Predictors and outcome must be equal length" = length(predictor)==length(outcome))
stopifnot("Predictors must be numeric" = is.numeric(predictor))
ranking = rbind(ranking, data.frame(Predictor = names(predictors)[i],
Correlation = cor(predictor, outcome),
Significance = ifelse(cor.test(predictor, outcome)$p.value < 0.05, "Yes", "No")))
}
ranking = ranking %>% arrange(desc(abs(Correlation)))
return(ranking)
}
corrRank(list(Sunshine = cities$sunshine_hours), cities$water_bottle_cost)
corrRank = function(predictors, outcome){
ranking = data.frame(matrix(ncol=3, nrow=0))
colnames(ranking) = c("Predictor", "Correlation", "Significance")
stopifnot("Outcome variable must be numeric" = is.numeric(outcome))
for (i in seq_along(predictors)){
predictor = predictors[[i]]
stopifnot("Predictors and outcome must be equal length" = length(predictor)==length(outcome))
stopifnot("Predictors must be numeric" = is.numeric(predictor))
ranking = rbind(ranking, data.frame(Predictor = names(predictors)[i],
Correlation = cor(predictor, outcome, use = "complete.obs"),
Significance = ifelse(cor.test(predictor, outcome)$p.value < 0.05, "Yes", "No")))
}
ranking = ranking %>% arrange(desc(abs(Correlation)))
return(ranking)
}
corrRank(list(Sunshine = cities$sunshine_hours), cities$water_bottle_cost)
output = corrRank(list(Sunshine = cities$sunshine_hours), cities$water_bottle_cost)
output$Correlation
output = corrRank(list(Sunshine = cities$sunshine_hours, Obesity= cities$obesity), cities$water_bottle_cost)
View(cities)
output = corrRank(list(Sunshine = cities$sunshine_hours, Obesity= cities$obesity_level), cities$water_bottle_cost)
output
corrRank = function(predictors, outcome){
ranking = data.frame(matrix(ncol=3, nrow=0))
colnames(ranking) = c("Predictor", "Correlation", "Significance")
stopifnot("Outcome variable must be numeric" = is.numeric(outcome))
for (i in seq_along(predictors)){
predictor = predictors[[i]]
stopifnot("Predictors and outcome must be equal length" = length(predictor)==length(outcome))
stopifnot("Predictors must be numeric" = is.numeric(predictor))
ranking = rbind(ranking, data.frame(Predictor = names(predictors)[i],
Correlation = round(cor(predictor, outcome, use = "complete.obs"),2),
Significance = ifelse(cor.test(predictor, outcome)$p.value < 0.05, "Yes", "No")))
}
ranking = ranking %>% arrange(desc(abs(Correlation)))
return(ranking)
}
output = corrRank(list(Sunshine = cities$sunshine_hours), cities$water_bottle_cost)
output
output
output = corrRank(list(Sunshine = cities$sunshine_hours, Obesity= cities$obesity_level), cities$water_bottle_cost)
output
output$Correlation[1] < output$Correlation[2]
output = corrRank(list(Work_hrs = cities$avg_hours_worked_annual, Sunshine=cities$sunshine_hours, "Take out"=cities$num_take_out_places), cities$happiness_level)
output
2 <= 2 <= 4
2 <= 3
2=< 3
corrRank = function(predictors, outcome){
ranking = data.frame(matrix(ncol=3, nrow=0))
colnames(ranking) = c("Predictor", "Correlation", "Significance")
stopifnot("Outcome variable must be numeric" = is.numeric(outcome))
for (i in seq_along(predictors)){
predictor = predictors[[i]]
stopifnot("Predictors and outcome must be equal length" = length(predictor)==length(outcome))
stopifnot("Predictors must be numeric" = is.numeric(predictor))
ranking = rbind(ranking, data.frame(Predictor = names(predictors)[i],
Correlation = round(cor(predictor, outcome, use = "complete.obs"),2),
Significance = ifelse(cor.test(predictor, outcome)$p.value < 0.05, "Yes", "No"),
Description = case_when(Correlation == -1 ~ "Perfect negative association",
Correlation == 1 ~ "Perfect positive association",
Correlation == 0 ~ "No linear association",
Correlation >= 0.8 & Correlation < 1 ~ "Strong positive association",
Correlation >= 0.6 & Correlation < 0.8 ~ "Moderate positive association",
Correlation > 0 & Correlation < 0.6 ~ "Weak positive association",
Correlation < 0 & Correlation > -0.6 ~ "Weak negative association",
Correlation <= -0.6 & Correlation > -0.8 ~ "Moderate negative association",
Correlation > -1 & Correlation <= -0.8 ~ "Strong negative association")))
}
ranking = ranking %>% arrange(desc(abs(Correlation)))
return(ranking)
}
output = corrRank(list(Sunshine = cities$sunshine_hours), cities$water_bottle_cost)
output
