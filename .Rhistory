label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(response))} and {deparse(substitute(exposure))}"),
x = glue("{deparse(substitute(predictors[i]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
}
}
cplot(list(cities$life_expectancy), cities$obesity_level)
obesity <- cities$obesity_level
age <- cities$life_expectancy
cplot(list(age), obesity)
cplot <- function(predictors, outcome) {
# checks - variable type, length
#plot_list <- list()
# iterated
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome)
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot2::ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor),
y = max(outcome),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(unlist(predictors[i])))}"),
x = glue("{deparse(substitute(predictors[i]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
}
}
cplot(list(age), obesity)
cplot <- function(predictors, outcome) {
# checks - variable type, length
#plot_list <- list()
# iterated
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome)
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot2::ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor),
y = max(outcome),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(as.character(unlist(predictors[i]))))}"),
x = glue("{deparse(substitute(predictors[i]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
}
}
cplot(list(age), obesity)
cplot <- function(predictors, outcome) {
# checks - variable type, length
#plot_list <- list()
# iterated
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome)
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot2::ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor),
y = max(outcome),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(unlist(predictors[i])))}"),
x = glue("{deparse(substitute(predictors[i]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
}
}
cplot(list(age), obesity)
cplot <- function(predictors, outcome) {
# checks - variable type, length
#plot_list <- list()
# iterated
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome)
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot2::ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor),
y = max(outcome),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(predictors[i]))}"),
x = glue("{deparse(substitute(predictors[i]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
}
}
cplot(list(age), obesity)
cplot(list(cities$life_expectancy, cities$avg_hours_worked_annual, cities$sunshine_hours), obesity)
cplot(list(cities$life_expectancy, cities$avg_hours_worked_annual), obesity)
cplot <- function(predictors, outcome) {
# checks - variable type, length
#plot_list <- list()
# iterated
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome)
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot2::ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor),
y = max(outcome),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(predictors[i]))}"),
x = glue("{deparse(substitute(predictors[i]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
}
}
cplot <- function(predictors, outcome) {
# checks - variable type, length
#plot_list <- list()
# iterated
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome)
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor),
y = max(outcome),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(predictors[i]))}"),
x = glue("{deparse(substitute(predictors[i]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
}
}
load("C:/Users/hoang/OneDrive/Desktop/Version Control/corrrank/data/cities.rda")
temp <- list(cities$life_expectancy, cities$sunshine_hours)
predictors <- list(cities$life_expectancy, cities$sunshine_hours)
outcome <- cities$obesity_level
predictor <- as.numeric(unlist(predictors[1]))
correlation <- cor(x = predictor, y = outcome)
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor),
y = max(outcome),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(predictors[1]))}"),
x = glue("{deparse(substitute(predictors[1]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
correlation <- cor(x = predictor, y = outcome)
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor),
y = max(outcome),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(predictors[2]))}"),
x = glue("{deparse(substitute(predictors[2]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
corr_plot
correlation <- cor(x = predictor, y = outcome)
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor),
y = max(outcome),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(predictors[2]))}"),
x = glue("{deparse(substitute(predictors[2]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
predictor <- as.numeric(unlist(predictors[1]))
correlation <- cor(x = predictor, y = outcome)
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor),
y = max(outcome),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(predictors[1]))}"),
x = glue("{deparse(substitute(predictors[1]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
predictor <- as.numeric(unlist(predictors[2]))
correlation <- cor(x = predictor, y = outcome)
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor),
y = max(outcome),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(predictors[2]))}"),
x = glue("{deparse(substitute(predictors[2]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
predictor <- as.numeric(unlist(predictors[2]))
correlation <- cor(x = predictor, y = outcome)
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(predictors[2]))}"),
x = glue("{deparse(substitute(predictors[2]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
predictor <- as.numeric(unlist(predictors[2]))
correlation <- cor(x = predictor, y = outcome)
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = F),
y = max(outcome, na.rm = F),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(predictors[2]))}"),
x = glue("{deparse(substitute(predictors[2]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
predictor <- as.numeric(unlist(predictors[2]))
correlation <- cor(x = predictor, y = outcome)
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(predictors[2]))}"),
x = glue("{deparse(substitute(predictors[2]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
predictor <- as.numeric(unlist(predictors[2]))
correlation <- cor(x = predictor, y = outcome)
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(predictors[2]))}"),
x = glue("{deparse(substitute(predictors[2]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
predictor <- as.numeric(unlist(predictors[2]))
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(predictors[2]))}"),
x = glue("{deparse(substitute(predictors[2]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(predictors[i]))}"),
x = glue("{deparse(substitute(predictors[i]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
}
cplot <- function(predictors, outcome) {
# checks - variable type, length
#plot_list <- list()
# iterated
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and {deparse(substitute(predictors[i]))}"),
x = glue("{deparse(substitute(predictors[i]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
}
}
cplot(list(cities$life_expectancy, cities$sunshine_hours), cities$obesity_level)
predictors[1]
predictors[1][1]
predictors[1][1][1]
cplot <- function(predictors, outcome) {
# checks - variable type, length
#plot_list <- list()
# iterated
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("{deparse(substitute(unlist(predictors)[i]))}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
}
}
cplot(list(cities$life_expectancy, cities$sunshine_hours), cities$obesity_level)
unlist(predictors)[i]
unlist(predictors)
predictors
predictors[1]
cplot <- function(predictors, outcome) {
# checks - variable type, length
#plot_list <- list()
# iterated
for (i in seq_along(predictors)) {
predictor <- as.numeric(unlist(predictors[i]))
correlation <- cor(x = predictor, y = outcome, use = "complete.obs")
df <- data.frame(exposure = predictor, response = outcome)
corr_plot <- ggplot(data = df,
aes(x = exposure,
y = response)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
annotate(geom = "text",
x = min(predictor, na.rm = T),
y = max(outcome, na.rm = T),
hjust = 0,
vjust = 1,
label = glue("r = {round(correlation,3)}")) +
labs(title = glue("Correlation Between {deparse(substitute(outcome))} and Exposure {i}"),
x = glue("Exposure {i}"),
y = glue("{deparse(substitute(outcome))}"))
#corr_plot[[i]] <- corr_plot
print(corr_plot)
}
}
cplot(list(cities$life_expectancy, cities$sunshine_hours), cities$obesity_level)
devtools::document()
CITIE
devtools::document()
usethis::use_test("cplot")
devtools::test()
devtools::check()
devtools::check()
.Last.error
cities
load("C:/Users/hoang/OneDrive/Desktop/Version Control/corrrank/data/cities.rda")
length(cities)
cities$life_expectancy
cities
dim(cities)
dim(cities)[1]
exposures <- list(cities$life_expectancy, cities$happiness_level)
dim(exposures)[1]
length(exposures)
exposures[1]
length(exposures[1])
dim(exposures[1])
exposures[1]
size(exposures[1])
lengths(exposures[1])
lengths(cities$obesity_level)
outcome <- cities$obesity
length(cities$obesity_level)
lengths(exposures[1])
lengths(exposures)
set(lengths(exposures))
class(lengths(exposures))
lengths(exposures)
unique(lengths(exposures))
unique(lengths(exposures)), length(cities$obesity_level)
length(cities$obesity_level)
unique(lengths(exposures))
